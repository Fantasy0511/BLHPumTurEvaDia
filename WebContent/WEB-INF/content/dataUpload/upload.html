<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>文件上传</title>
<link rel="stylesheet"
	href="/BLHPumTurEvaDia/tool/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css"
	href="/BLHPumTurEvaDia/tool/easyui-1.4.5/themes/default/easyui.css">
<link rel="stylesheet" type="text/css"
	href="/BLHPumTurEvaDia/tool/easyui-1.4.5/themes/icon.css">
<script type="text/javascript"
	src="/BLHPumTurEvaDia/tool/jquery/jquery.min.js"></script>
<script type="text/javascript"
	src="/BLHPumTurEvaDia/tool/easyui-1.4.5/jquery.easyui.min.js"></script>
<script type="text/javascript"
	src="/BLHPumTurEvaDia/tool/easyui-1.4.5/locale/easyui-lang-zh_CN.js"></script>

</head>
<script type="text/javascript">
	function upLoad() {
		var file = $("#excelId").val();
		if (file == "") {
			alert("请选择上传文件！");
			return false;
		} else {
			var fileName = document.getElementById("excelId").files[0].name;
			var url = "/BLHPumTurEvaDia/dataUpload/excelToDb?fileName="
					+ fileName;
			console.log(url);
			$('form').attr('action', url);
			alert('上传成功');
		}

	}
	$(function() {
		$("#uploadBtn").click(upLoad);
	})
</script>
<body>
<div style="margin-left: auto; margin-right: auto; margin-top:30px;width: 1150px">
	<div class="easyui-panel"
		style="width: 340px; height: 410px; padding: 10px 10px;"
		data-options="style:{display:'inline-block',float:'left',marginRight:'10px'}">
		<div title="上传文件" class="easyui-panel"
			style=" width: 320px; padding: 20px 20px; text-align: center"
			data-options="border:true">
			<div></div>
			<form method="post" enctype="multipart/form-data">
				<input type="file" id="excelId" name="excel"
					accept="application/vnd.ms-excel"><br>
				<input type="submit" id="uploadBtn" style="display:block"
					value="上传"><br>
			</form>
			
					
		</div>
		<div class="ipad" style="height: 30px"></div>

		<div title="查询条件" class="easyui-panel"
			style="width: 320px; padding: 20px 20px; text-align: center"
			data-options="border:true">
			<div style="margin-bottom: 20px">
				<label style="margin-bottom: 5px">开始时间：</label><input id="beginDate"
					class="easyui-datebox" required style="width: 150px; height: 26px">
			</div>
			<div style="margin-bottom: 20px">
				<label style="margin-bottom: 5px">结束时间：</label><input id="endDate"
					class="easyui-datebox" required style="width: 150px; height: 26px">
			</div>
			<script>
				$.extend($.fn.validatebox.defaults.rules, {
					md : {
						validator : function(value, param) {
							var d1 = $.fn.datebox.defaults.parser(param[0]);
							var d2 = $.fn.datebox.defaults.parser(value);
							return d2 >= d1;
						},
						message : '结束时间必须大于或等于开始时间。'
					}
				})
			</script>
			<a id="bt_query" class="easyui-linkbutton"
				data-options="iconCls:'icon-search'">查询</a>
		</div>
		</div>
		<table id="report_table" title="提交记录" class="easyui-datagrid"
			style="width: 793px; height: 410px" data-options="singleSelect:true">
			<thead>
				<tr>
					<th data-options="field:'reportId',align:'center',width:150">报表序号</th>
					<th data-options="field:'reportType',align:'center',width:150">报表类型</th>
					<th data-options="field:'reportName',align:'center',width:150">报表名称</th>
					<th data-options="field:'createdTime',align:'center',width:160">生成时间</th>
				</tr>
			</thead>
		</table>

	</div>
</body>
</html>