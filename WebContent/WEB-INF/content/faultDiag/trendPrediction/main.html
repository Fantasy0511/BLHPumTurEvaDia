<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>趋势预测</title>

<link rel="stylesheet"
	href="/BLHPumTurEvaDia/tool/easyui-1.4.5/themes/default/easyui.css">
<link rel="stylesheet" type="text/css"
	href="/BLHPumTurEvaDia/tool/easyui-1.4.5/themes/icon.css">
<link rel="stylesheet" type="text/css"
	href="/BLHPumTurEvaDia/css/assess/inputdiv.css">
<link rel="stylesheet" type="text/css"
	href="/BLHPumTurEvaDia/js/assess/icon.css">
<link rel="stylesheet" type="text/css"
	href="/BLHPumTurEvaDia/css/assess/assesment.css">
<script type="text/javascript"
	src="/BLHPumTurEvaDia/tool/jquery/jquery.min.js"></script>
<script type="text/javascript"
	src="/BLHPumTurEvaDia/tool/easyui-1.5.2/jquery.easyui.min.js"></script>
<script type="text/javascript"
	src="/BLHPumTurEvaDia/js/highcharts_util.js"></script>
<script type="text/javascript"
	src="/BLHPumTurEvaDia/js/assess/lodash.min.js"></script>
<script type="text/javascript"
	src="/BLHPumTurEvaDia/js/assess/easyui-util-all.js"></script>
<script type="text/javascript"
	src="/BLHPumTurEvaDia/js/assess/highcharts.js"></script>
<script type="text/javascript"
	src="/BLHPumTurEvaDia/js/assess/sand-signika.js"></script>
</head>
<script type="text/javascript">
	function myformatter(date) {
		var y = date.getFullYear();
		var m = date.getMonth() + 1;
		var d = date.getDate();
		return y + '-' + (m < 10 ? ('0' + m) : m) + '-'
				+ (d < 10 ? ('0' + d) : d);
	}
	function myparser(s) {
		if (!s)
			return new Date();
		var ss = (s.split('-'));
		var y = parseInt(ss[0], 10);
		var m = parseInt(ss[1], 10);
		var d = parseInt(ss[2], 10);
		if (!isNaN(y) && !isNaN(m) && !isNaN(d)) {
			return new Date(y, m - 1, d);
		} else {
			return new Date();
		}
	}
</script>
<script>
	function predict() {
		showMask();
		var url = "/BLHPumTurEvaDia/predict/predict";
		url += makeInput(getComboboxValue("unitNo"), getComboboxValue("item"),
				getDate("beginDate"), getComboboxValue("step"));
		console.log(url);
		getJSON(url, function(data) {
			loadData("table_comparison", data.tableComparison);
			drawPic("chart_comparison", data.chartComparison);
		});
	}

	$(function() {
		$("#bt_predict").click(predict);
	});
</script>

<body>
	<div class="input_div" style="margin-bottom: 5px;">
		<span class="input_title">条件输入：</span> <label for="model">选择机组：</label>
		<select id="unitNo" class="easyui-combobox" style="width: 100px;">
			<option value="1">1号机组</option>
			<option value="2">2号机组</option>
			<option value="3">3号机组</option>
			<option value="4">4号机组</option>
		</select><label style="margin-bottom: 5px">时间：</label> <input id="beginDate"
			class="easyui-datebox"
			data-options="formatter:myformatter,parser:myparser" required
			style="width: 150px; height: 26px"> <label for="model">选择对象：
		</label> <select id="item" class="easyui-combobox" style="width: 150px;">
			<option value="B14B">油路压力</option>
			<option value="LQLL">冷却水流量</option>
			<option value="SW">水温</option>
			<option value="YWEI">油位</option>
			<option value="U18V">磨损</option>
			<option value="LG0C">出口油温</option>
			<option value="B144">水导X轴振摆速率</option>
			<option value="B145">水导Y轴振摆速率</option>
			<option value="B146">水导Z轴振摆速率</option>
		</select> <label style="font-size: 14px">选择步长：</label> <select id="step"
			class="easyui-combobox" style="width: 80px">
			<option value="singleStep" selected="selected">单步</option>
			<option value="multiStep">多步</option>
		</select> <a id="bt_predict" href="#" class="easyui-linkbutton"
			data-options="iconCls:'icon-ok'">开始预测</a>
	</div>

	<div style="margin-left: 2%; margin-right: 2%; width: 96%">
		<table id="table_comparison" title="预测结果对比表" class="easyui-datagrid"
			style="width: 37%; height: 490px"
			data-options="singleSelect:true,fitColumns:false,display:'inline-block',style:{marginRight:'20px',float:'left'}"
			id="result-table">
			<thead>
				<tr>
					<th data-options="field:'time',align:'center',width:178">时间</th>
					<th data-options="field:'original',align:'center',width:150">实测值</th>
					<th data-options="field:'predicted',align:'center',width:100">预测值</th>
				</tr>
			</thead>
		</table>
		<div class="easyui-panel" title="预测结果对比图"
			style="width: 55%; height: 490px;">
			<div id="chart_comparison">
				<pre>    暂无结果</pre>
			</div>
		</div>
	</div>

	<div class="ipad" style="height: 50px"></div>


</body>
</html>